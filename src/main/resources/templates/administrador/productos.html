<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrador || Productos</title>
    <link rel="shortcut icon" href="/img/estadisticas/img-5.png" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/page.css">
    <!-- Font Awesome-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>

<body class="overflow-hidden">

    <div class="fixed  w-screen">
        <!-- header -->
        <div th:replace="~{/fragmentos/administrador/header :: div}"></div>

        <!-- body -->
        <div class="flex justify-between">
            <!-- menu lateral -->
            <div th:replace="~{/fragmentos/administrador/menu_lateral :: div}"></div>
            <!-- body main -->
            <div class="main_dashboard w-screen h-screen mt-4  overflow-y-auto ml-6 mr-6">
                <div class="mt-4 cards_flex flex gap-4  justify-center w-full flex-wrap">
                    <div class="w-64 h-24 border-sm rounded shadow-[0px_1px_6px_6px_rgba(10,0,0,0.05)]" >
                        <div class="flex justify-between w-ful p-5">
                            <div class="">
                                <span class="block text-xl">Productos</span>
                                <span class="text-sm" th:text="${cantPr}"></span>
                            </div>
                            <div class="text-5xl ">
                              <img src="/img/estadisticas/img-1.png" alt="" class="w-12 h-12">
                            </div>
                        </div>
                    </div>
                    <div class="w-64 h-24 border-sm rounded shadow-[0px_1px_6px_6px_rgba(10,0,0,0.05)]" >
                        <div class="flex justify-between w-ful p-5">
                            <div class="">
                                <span class="block text-xl">Enviados</span>
                                <span class="text-sm">89</span>
                            </div>
                            <div class="text-5xl">
                                <img src="/img/estadisticas/img-2.png" alt="" class="w-12 h-12">
                            </div>
                        </div>
                    </div>
                    <div class="w-64 h-24 border-sm rounded shadow-[0px_1px_6px_6px_rgba(10,0,0,0.05)]" >
                        <div class="flex justify-between w-ful p-5">
                            <div class="">
                                <span class="block text-xl">Suspendidos</span>
                                <span class="text-sm">5</span>
                            </div>
                            <div class="text-5xl">
                                <img src="/img/estadisticas/img-3.png" alt="" class="w-12 h-12">
                            </div>
                        </div>
                    </div>
                    <div class="w-64 h-24 border-sm rounded shadow-[0px_1px_6px_6px_rgba(10,0,0,0.05)]" >
                        <div class="flex justify-between w-ful p-5">
                            <div class="">
                                <span class="block text-xl">Vendidos</span>
                                <span class="text-sm">158</span>
                            </div>
                            <div class="text-5xl">
                                <img src="/img/estadisticas/img-4.png" alt="" class="w-12 h-12">
                            </div>
                        </div>
                    </div>                    
                </div>
                <div class="w-full border border_color  p-6 shadow-inner rounded overflow-y-auto mt-4">
                        <div class="flex justify-between flex-wrap mb-2 ">
                            <div class="flex gap-4">
                                <a id="agregar" class="mb-auto mt-auto border rounded  mt-auto mb-auto px-4 py-2 bg-sky-600 text-white hover:bg-sky-900 mb-2 shadow" ><i class="bi fa fa-folder-plus"></i> <span>Agregar Item</span></a>
                            </div>
       
                            <a class="bg-sky-600 w-256 rounded mb-2">
                             <div class="flex w-full mt-auto mb-auto p-1 gap-2 ">
                                <input type="search" class="w-full outline-none px-2 text-gray-950 text-sm" onkeyup="buscarTabla()" id="searchInput" placeholder="BuscarProducto ..... ">
                                 <i class="fas fa-search text-2xl text-white"></i>
                             </div>
                            </a>
                        </div>
                    <table class="w-full border-collapse " id="miTabla">                        
                        <thead>
                            <tr class="border-b-2 border_color text-center font-bold">
                                <td class="p-4  ">
                                    <div class="flex ">
                                        <span>Codigo</span> <i class="bi bi-chevron-expand"></i>
                                    </div>
                                </td>
                                <td class="p-4 ">
                                    <div class="flex"><span>Nombre</span> <i class="bi bi-chevron-expand"></i></div>
                                </td>
                                <td class="p-4 ">
                                    <div class="flex"><span>Cantidad</span> <i class="bi bi-chevron-expand"></i>
                                    </div>
                                </td>
                                <td class="p-4 ">
                                    <div class="flex">
                                        <span>Precio</span> <i class="bi bi-chevron-expand"></i>
                                    </div>
                                </td>
                                <td class="p-4 ">
                                    <div class="flex"><span>Imagen</span> <i class="bi bi-chevron-expand"></i>
                                    </div>
                                </td>
                                <td class="p-4 ">
                                    <div class="flex"><span>accion</span> <i class="bi bi-chevron-expand"></i>
                                    </div>
                                </td>
                            </tr>
                        </thead>
                        <tbody th:each="listaProducto : ${listaProducto}">
                            <tr class="border-b border_color  text-sm">
                                <td class="p-4" th:text="${listaProducto.id_producto}"></td>
                                <td class="p-4" th:text="${listaProducto.nombre_producto}"></td>
                                <td class="p-4"th:text="${listaProducto.cantidad_stock}"></td>
                                <td class="p-4" th:text="'S/ ' + ${listaProducto.precio_unidad}"></td>
                                <td class="p-4 w-16 h-16 border">
                                    <img  th:src="${listaProducto.img_url}" alt="">
                                </td>
                                <td class="p-4">
                                    <a th:href="@{/administrador/editar/producto/{id_producto}(id_producto=${listaProducto.id_producto})}"
                                       class="cursor-pointer rounded px-4 shadow-sm py-2 border bg-orange-600 text-white hover:bg-orange-900">
                                        <i class="fas fa-edit"></i> <!-- Ícono de editar con Font Awesome -->
                                    </a>
                                    <a th:href="@{/administrador/eliminar/producto/{id_producto}(id_producto=${listaProducto.id_producto})}"
                                       class="cursor-pointer rounded px-4 shadow-sm py-2 border bg-red-600 text-white hover:bg-orange-900">
                                        <i class="fas fa-trash-alt"></i> <!-- Ícono de eliminar con Font Awesome -->
                                    </a>
                                </td>

                            </tr>

                        </tbody>
                    </table>
                </div>

                <br> <br> <br> <br> <br>
            </div>
        </div>

    </div>

    <div class=" fixed w-screen h-screen bg-gray-600 bg-opacity-20 flex justify-center items-center  hidden" id="modal">
        <div class="modal_add  border bg-white shadow-sm rounded">
            <form action="/administrador/registrar/producto" method="POST">
                <h1 class="text-center">Editar Producto</h1>
                <div class="flex gap-4 p-4">
                    <div class="w-full">
                        <label for="" class="block">nombre producto</label>
                        <input name="nombre_producto" type="text" class="w-full outline-none border shadow-sm px-2 py-4 rounded" >
                    </div>
                </div>

                <div class="flex gap-4 p-4" >
                    <div class="w-full">
                        <label for="" class="block">descripcion producto</label>
                        <input name="descripcion" type="text" class="w-full outline-none border shadow-sm px-2 py-4 rounded">
                    </div>
                </div>

                <div class="flex gap-4 p-4 wrap">
                    <div class="w-full">
                        <label for="" class="block">cantidad producto</label>
                        <input name="cantidad" type="number"  class="w-full outline-none border shadow-sm px-2 py-4 rounded">
                    </div>
                    <div class="w-full">
                        <label for="" class="block"> precio producto S/.</label>
                        <input name="precio"type="text" step="1"  class="w-full outline-none border shadow-sm px-2 py-4 rounded">
                    </div>
                </div>
                <div class="flex gap-4 p-4 wrap" >
                    <div class="w-full ">
                        <label for="" class="block">id categoria producto</label>
                        <select name="id_categoria" id="" class="w-full outline-none border shadow-sm px-2 py-4 rounded">
                            <option th:each="CategoriaProducto : ${CategoriaProducto}" th:value="${CategoriaProducto.id_categoria}" th:text="${CategoriaProducto.nombre_categoria}"></option>
                        </select>
                    </div>
                    <div class="w-full">
                        <label for="" class="block">url producto</label>
                        <input name="url" type="text"  class="w-full outline-none border shadow-sm px-2 py-4 rounded">
                    </div>
                    <div class="w-full">
                        <label for="" class="block">estado producto</label>
                        <select name="id_estado" id="" class="w-full outline-none border shadow-sm px-2 py-4 rounded">
                            <option th:each="listaEstado : ${listaEstado}" th:value="${listaEstado.id_estado}" th:text="${listaEstado.nombre_estado}"></option>
                        </select>
                    </div>
                </div>
                <div class="flex gap-4 p-4 justify-center" >
                        <input type="submit" value="Guardar" class="text-xl border rounded shadow-sm text-white bg-sky-700  px-4 py-2 cursor-pointer hover:bg-sky-800">
                        <a href="/administrador/productos"  class="text-xl border rounded shadow-sm bg-white text-sky-700 border-sky-700  px-4 py-2 cursor-pointer">Regresar</a>
                </div>
            </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="/js/main.js"></script>
    <script src="/js/modal.js"></script>
</body>

</html> 